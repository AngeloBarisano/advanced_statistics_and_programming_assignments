---
title: "assignment_1_angelo_barisano"
output: html_document
date: '2022-09-08'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown


Please note: I have used an autoformatter which I built years ago

```{r import data & set wkdir}
# clear environment
rm(list=ls())

# import the necessary libraries
library("tidyverse")
library("stargazer")
library("tidyverse")
library("reshape")
library("Hmisc")
library("ggplot2")
library("dplyr")



setwd("/home/angelo/Documents/Uni/Courses/Advanced Statistics and programming/Assignments/assignment1")

df <- read.csv("Data/train.csv", header= TRUE, sep= ",")

```

```{r Initial data inspection}
# View(df)
# str(df)
```


```{r fix dtype}
# # this is a saveguard as integer operation wont work on this column if i make a mistake
# df$Id <- as.character(df$Id)
# 
# # MSSubClass is a CLASS of buildings
# df$MSSubClass <- as.factor(df$MSSubClass)
# df$MSZoning <- as.factor(df$MSZoning)
# df$Street <- as.factor(df$Street)
# df$Alley <- as.factor(df$Alley)
# df$LotShape <- as.factor(df$LotShape)
# df$LandContour <- as.factor(df$LandContour)
# df$Utilities <- as.factor(df$Utilities)
# df$LotConfig <- as.factor(df$LotConfig)
# df$LandSlope <- as.factor(df$LandSlope)
# df$Neighborhood <- as.factor(df$Neighborhood)
# df$Condition1 <- as.factor(df$Condition1)
# df$Condition2 <- as.factor(df$Condition2)
# df$BldgType <- as.factor(df$BldgType)
# df$HouseStyle <- as.factor(df$HouseStyle)
# 
# # question: is overall quality (OverallCond and OverallQual)interval of ordinal?
# # df$OverallQual <- as.factor(df$OverallQual)
# # df$HouseStyle <- as.factor(df$OverallCond)
# 
# # years built is an ordinal/ or nominal variable; so I will put into a factor
# #NOTE: YEAR and timesince can function as a variable here! conidering the YearRemodAdd (remodel date)
# df$YearBuilt <- as.factor(df$YearBuilt)
# df$YearRemodAdd <- as.factor(df$YearRemodAdd)
# 
# df$RoofStyle <- as.factor(df$RoofStyle)
# df$RoofMatl <- as.factor(df$RoofMatl)
# df$Exterior1st <- as.factor(df$Exterior1st)
# df$Exterior2nd <- as.factor(df$Exterior2nd)
# df$MasVnrType <- as.factor(df$MasVnrType)
# df$ExterQual <- as.factor(df$ExterQual)
# df$ExterCond <- as.factor(df$ExterCond)
# df$Foundation <- as.factor(df$Foundation)
# df$ExterCond <- as.factor(df$ExterCond)
# df$Foundation <- as.factor(df$Foundation)
# df$BsmtQual <- as.factor(df$BsmtQual)
# df$BsmtCond <- as.factor(df$BsmtCond)
# df$BsmtExposure <- as.factor(df$BsmtExposure)
# df$BsmtFinType1 <- as.factor(df$BsmtFinType1)
# df$BsmtFinType2 <- as.factor(df$BsmtFinType2)
# 
# df$Heating <- as.factor(df$Heating)
# df$HeatingQC <- as.factor(df$HeatingQC)
# df$CentralAir <- as.factor(df$CentralAir)
# df$KitchenQual <- as.factor(df$KitchenQual)
# df$Functional <- as.factor(df$Functional)
# df$FireplaceQu <- as.factor(df$FireplaceQu)
# df$GarageType <- as.factor(df$GarageType)
# df$GarageYrBlt <- as.factor(df$GarageYrBlt)
# df$GarageFinish <- as.factor(df$GarageFinish)
# 
# # GARAGE TYPE MAY BE A GOOD VARIABLE AS THE SIZE MEANS MORE CARS AND MORE CARS MEANS RICHER PEOPLE!!!
# df$GarageCars <- as.factor(df$GarageCars)
# 
# df$GarageQual <- as.factor(df$GarageQual)
# df$GarageCond <- as.factor(df$GarageCond)
# df$PavedDrive <- as.factor(df$PavedDrive)
# df$PoolQC <- as.factor(df$PoolQC)
# 
# 
# df$Fence <- as.factor(df$Fence)
# df$MiscFeature <- as.character(df$MiscFeature)
# 
# 
# 
# # IMPORTANT FEATURES
# # put month as factor; convert it properly to character type
# df$MoSold <- as.factor(df$MoSold)
# df$YrSold <- as.factor(df$YrSold)
# 
# # this one is interesting
# df$SaleType <- as.factor(df$SaleType)
# # this one just to make it clear
# df$SalePrice <- as.integer(df$SalePrice)


```





``` {r select variables for analysis}







```


 
 
 
 
 

```{r missing values inspection}
# display missing values by column
colSums(is.na(df))

# select all columns which have missing data 
which(colSums(is.na(df))>0)

```




```{r Data cleaning and imputation}
# Missing Value Treatment
for(i in c(1:78))
{
  if(class(train[,i])=="factor")
  {
    train[is.na(train[,i]),i]<-names(which.max(table(train[,i])))
  }else{
    train[is.na(train[,i]),i]<-median(unlist(train[,i]),na.rm = TRUE)
  }
}

```




# 1 Collect and prepare data

```{r Produce summarystatistics using stargazer}

# first only select the variables that I pointed out in the first part
df_ <- df[, c(
  'Id',
  'SalePrice',
  'MoSold',
  'YrSold',
  'YearBuilt',
  'YearRemodAdd',
  'LotArea',
  'GrLivArea',
  'TotalBsmtSF',
  'BedroomAbvGr',
  'BsmtFullBath',
  'FullBath',
  'GarageCars',
  'BldgType',
  'MSZoning',
  'Neighborhood',
  'OverallQual',
  'OverallCond'
)]

# create the interesting varaibles
df_$tot_living_area <- df_$GrLivArea + df_$TotalBsmtSF
df_$tot_bathrooms <- df_$BsmtFullBath + df_$FullBath


```

```{r inspect dypes of the variables at hand}


# to make it clear that only certain operations can be performed on the data
df_$MoSold <- as.factor(df_$MoSold)
df_$YrSold <- as.factor(df_$YrSold)

df_$Neighborhood <- as.factor(df_$Neighborhood)
df_$BldgType <- as.factor(df_$BldgType)
df_$MSZoning <- as.factor(df_$MSZoning)
df_$Neighborhood <- as.factor(df_$Neighborhood)



str(df_)

```




```{r inspect missing values}
# display missing values by column
colSums(is.na(df_))

# select all columns which have missing data 
which(colSums(is.na(df_))>0)

```







```{r stargazer output and summary statistics}
stargazer(df_)
```






## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
